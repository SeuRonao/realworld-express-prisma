// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  email      String    @unique ///User email for registering and login use.
  username   String    @id ///User internal id.
  password   String ///User password stored in the database.
  bio        String? ///User biographical information.
  image      String? ///Link to the user avatar.
  follows    User[]    @relation("UserFollows") ///List of other users that this one follows.
  followedBy User[]    @relation("UserFollows") ///List of other users that follows this one.
  authored   Article[] @relation("Author")
  favorites  Article[] @relation("Favorites")
}

model Article {
  title          String   @unique
  slug           String   @id
  description    String
  body           String
  tagList        Tag[]
  author         User     @relation("Author", fields: [authorUsername], references: [username])
  authorUsername String
  favoritedBy    User[]   @relation("Favorites")
  createdAt      DateTime @default(now())
  updatedAt      DateTime @default(now())
}

model Tag {
  tagName String    @id
  article Article[]
}
